var express = require ('express');
var path = require('path');
var app = express();

app.use(express.static(path.join(__dirname, 'public')));

app.get('/preguntas', function(req, res){
		res.send('<html><body>'
			+ '<form method="get" action="/respuesta">'
			+ '<input type="hidden" name="id" value="colon" />'
			+ '¿Quién descubrió América? <br>'
			+ '<input type= "text" name="formulario1" placeholder ="Introduzca su respuesta" /><br>'
			+ '<input type= "submit" value="Responder" /><br>'
			+ '</form>'
			+ '<form method="get" action="/respuesta">'
			+ '<input type="hidden" name="id" value="Lisboa" />'
			+ '¿Capital de Portugal? <br>'
			+ '<input type= "text" name="formulario2" placeholder ="Introduzca su respuesta" /><br>'
			+ '<input type= "submit" value="Responder" /><br>'
			+ '</form>'
		    + '</body></html>');
});

app.get('/respuesta', function(req, res){

		if( req.query.id.match(/^(colon)$/)) {

		if(req.query.formulario1.match(/^(Colon|colon|Colón|colón|COLON|COLÓN)$/)){

			res.send('<html><body>'
			+ '¡Correcto! <br>'
			+ '<br><a href="preguntas">Volver a la pregunta</a><br></body></html>'); } 

		else{
				res.send('<html><body>'
			+ 'no, la respuesta correcta es Colón<br>'
	    	+ '<br><a href="preguntas">Volver a la pregunta</a><br></body></html>'); } 
	    	 

		}

		if( req.query.id.match(/^(Lisboa)$/)) {
		
		if(req.query.formulario2.match(/^(lisboa|Lisboa|LISBOA)$/)){

			res.send('<html><body>'
			+ '¡Correcto! <br>'
			+ '<br><a href="preguntas">Volver a la pregunta</a><br></body></html>'); } 
			
	    else{
			
			res.send('<html><body>'
			+ 'no, La respuesta correcta es Lisboa'
			538
			+ '<br><a href="preguntas">Volver a la pregunta</a><br></body></html>'); } 
			 	

		}
	
});

app.listen(8000);
